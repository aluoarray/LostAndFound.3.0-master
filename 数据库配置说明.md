# 数据库配置说明

## 方法1：直接修改 settings.py（最简单）

打开 `LostAndFound/settings.py` 文件，找到数据库配置部分（约第77-86行），直接修改以下值：

```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': '你的数据库名',        # 修改这里
        'USER': '你的数据库用户名',     # 修改这里
        'PASSWORD': '你的数据库密码',   # 修改这里
        'HOST': 'localhost',           # 如果是本地数据库，保持 localhost
        'PORT': '3306',                # MySQL默认端口，如果不是3306请修改
    }
}
```

## 方法2：使用环境变量（推荐，更安全）

### Windows PowerShell 设置环境变量：

```powershell
# 临时设置（当前会话有效）
$env:DB_NAME = "你的数据库名"
$env:DB_USER = "你的数据库用户名"
$env:DB_PASSWORD = "你的数据库密码"
$env:DB_HOST = "localhost"
$env:DB_PORT = "3306"

# 然后运行项目
python manage.py runserver
```

### Windows 命令提示符（CMD）设置环境变量：

```cmd
set DB_NAME=你的数据库名
set DB_USER=你的数据库用户名
set DB_PASSWORD=你的数据库密码
set DB_HOST=localhost
set DB_PORT=3306

python manage.py runserver
```

### 永久设置环境变量（Windows）：

1. 右键"此电脑" → "属性"
2. 点击"高级系统设置"
3. 点击"环境变量"
4. 在"用户变量"或"系统变量"中点击"新建"
5. 添加以下变量：
   - `DB_NAME` = 你的数据库名
   - `DB_USER` = 你的数据库用户名
   - `DB_PASSWORD` = 你的数据库密码
   - `DB_HOST` = localhost（或你的数据库服务器地址）
   - `DB_PORT` = 3306（或你的数据库端口）

## 配置完成后

1. **确保数据库已创建**：
   ```sql
   CREATE DATABASE 你的数据库名 CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
   ```

2. **运行数据库迁移**：
   ```powershell
   python manage.py migrate
   ```

3. **创建管理员账户**：
   ```powershell
   python manage.py createsuperuser
   ```

4. **启动服务器**：
   ```powershell
   python manage.py runserver
   ```

## 注意事项

- 如果数据库在远程服务器，将 `HOST` 改为服务器的IP地址或域名
- 确保MySQL服务已启动
- 确保数据库用户有足够的权限（CREATE, ALTER, INSERT, UPDATE, DELETE, SELECT等）
- 如果使用云数据库（如阿里云RDS、腾讯云等），注意检查安全组设置，确保允许你的IP访问

